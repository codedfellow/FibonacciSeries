<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fibonachi Code Test</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div style="display: block; color: white;">
            <h3 style="color: lightskyblue;text-decoration: underline;">Fibonacci Sequence Generator</h3>
            <label for="num1">First Number</label>
            <input class="numIn" type="number" name="num1" id="num1"><br>
            <label for="num2">Second Number</label>
            <input class="numIn" type="number" name="num2" id="num2"><br>
            <label for="range">Range/Count</label>
            <input class="numIn" type="number" name="range" id="range">
        </div>
        <br>
        <button class="btn" onclick="generate()">Generate Sequence</button>
        <button class="btn" onclick="clearResult()">Clear Result</button>
        <button class="btn" onclick="reset()">Reset</button>
        <hr>
        <p style="color: lightskyblue;" id="answerLine" style="visibility: hidden;"></p>
    </div>
    <script>
        let solution = document.getElementById('answerLine');
        let num1Elem = document.getElementById('num1');
        let num2Elem = document.getElementById('num2');
        let rangeElem = document.getElementById('range');

        // num1Elem.addEventListener('change', function () {
        //     num1 = num1Elem.value;
        // });
        // num2Elem.addEventListener('change', function () {
        //     num2 = num2Elem.value;
        // });
        // rangeElem.addEventListener('change', function () {
        //     range = rangeElem.value;
        // });

        function generate() {
            try {
                solution.style.visibility = 'visible';
                if (num1Elem.value == '' || num2Elem.value == '' || rangeElem.value == '') {
                    solution.innerText = 'Kindly input three valid numbers for the range and numbers';
                    return;
                }

                let num1 = Number(num1Elem.value), num2 = Number(num2Elem.value), range = Number(rangeElem.value);
                if (num1 == 0 && num2 == 0) {
                    solution.innerText = 'Both number values cannot be zero';
                    return;
                }
                console.log('numbers...', num1, num2, range)
                if (num1 == undefined || num2 == undefined || range == undefined) {
                    solution.innerText = 'Kindly input three valid numbers for the range and numbers';
                    return;
                }
                else {
                    let first = Number(num1);
                    let second = Number(num2);
                    let count = Number(range);
                    let result = [first, second];
                    let sum = 0;

                    if (range <= 2) {
                        solution.innerText = 'Kindly input a range greater than 2';
                    }
                    else {
                        for (let i = 0; i < (count - 2); i++) {
                            sum = first + second;
                            result.push(sum);
                            first = second;
                            second = sum;
                        }

                        result = result.map(x => {
                            if (x.toString().includes('.')) {
                                return x.toFixed(2)
                            }
                            else {
                                return x
                            }
                        });
                        solution.innerText = result;
                    }

                }

                solution.style.visibility = 'visible';
            } catch (error) {
                console.log(error)
            }
            
        }

        let reset = ()=>{
            num1Elem.value = 0;
            num2Elem.value = 0;
            rangeElem.value = 0;
            clearResult()
        }

        function clearResult() {
            solution.value = 0;
            solution.style.visibility = 'hidden';
        }
    </script>
</body>

</html>